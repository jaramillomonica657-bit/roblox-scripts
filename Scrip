local lp = game:GetService("Players").LocalPlayer
local char = lp.Character or lp.CharacterAdded:Wait()
local hum = char:WaitForChild("Humanoid")

hum.Jumping:Connect(function()
    local root = char:FindFirstChild("HumanoidRootPart")
    if root then
        -- Solo crea el bloque si no hay otro justo debajo
        local region = Region3.new(
            root.Position - Vector3.new(3, 4, 3),
            root.Position + Vector3.new(3, 2, 3)
        )
        local parts = workspace:FindPartsInRegion3(region, char, 10)
        local alreadyBlock = false
        for _,p in pairs(parts) do
            if p.Anchored and p.CanCollide and p.Transparency == 1 then
                alreadyBlock = true
                break
            end
        end
        if not alreadyBlock then
            local block = Instance.new("Part")
            block.Size = Vector3.new(6, 1, 6)
            block.Position = root.Position - Vector3.new(0, 3, 0)
            block.Anchored = true
            block.CanCollide = true
            block.Transparency = 1 -- Totalmente invisible
            block.Parent = workspace
            game:GetService("Debris"):AddItem(block, 0.5) -- Desaparece r√°pido
        end
    end
end)
